---
import { getNoticiasPaginadas } from '../lib/wordpress.js';

// Probar la funci√≥n directamente
let testData = null;
let error = null;

try {
  console.log('üîç Test: Obteniendo noticias...');
  testData = await getNoticiasPaginadas({ page: 1, itemsPerPage: 10 });
  console.log('‚úÖ Test: Noticias obtenidas:', testData);
} catch (e) {
  error = e;
  console.error('‚ùå Test: Error:', e);
}

const noticias = testData?.noticias || [];
---

<html>
  <head>
    <title>Test Noticias</title>
  </head>
  <body style="font-family: Arial; padding: 20px; background: #1a1a1a; color: white;">
    <h1>Test de Noticias</h1>
    
    {error ? (
      <div style="background: red; padding: 20px; border-radius: 10px;">
        <h2>Error:</h2>
        <pre>{error.message}</pre>
      </div>
    ) : (
      <div>
        <h2>Noticias encontradas: {noticias.length}</h2>
        
        {noticias.length > 0 ? (
          <ul>
            {noticias.map(noticia => (
              <li style="margin: 10px 0;">
                <strong>{noticia.title}</strong>
                <br />
                Slug: {noticia.slug}
                <br />
                Fecha: {noticia.date}
              </li>
            ))}
          </ul>
        ) : (
          <p>No se encontraron noticias</p>
        )}
        
        <h3>Datos completos:</h3>
        <pre style="background: #333; padding: 20px; border-radius: 5px; overflow: auto;">
          {JSON.stringify(testData, null, 2)}
        </pre>
      </div>
    )}
  </body>
</html>
