---
// src/components/DisqusComments.astro
interface Props {
  postUrl: string;
  postIdentifier: string;
  postTitle: string;
}

const { postUrl, postIdentifier, postTitle } = Astro.props;

// IMPORTANTE: Cambiar 'vinylstation' por tu shortname de Disqus
// Obt√©n tu shortname en: https://disqus.com/admin/create/
const disqusShortname = "vinylstation"; // ‚ö†Ô∏è CAMBIAR POR TU SHORTNAME
---

<div class="comments-section">
  <div class="comments-container">
    <h3 class="comments-title">üí¨ Comentarios</h3>
    <p class="comments-subtitle">
      Comparte tu opini√≥n sobre este art√≠culo
    </p>
    
    <!-- Disqus Comments -->
    <div id="disqus_thread"></div>
  </div>
</div>

<script define:vars={{ disqusShortname, postUrl, postIdentifier, postTitle }}>
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_config = function () {
    this.page.url = postUrl;
    this.page.identifier = postIdentifier;
    this.page.title = postTitle;
  };
  
  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://' + disqusShortname + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>

<noscript>
  <p class="no-script-message">
    Por favor habilita JavaScript para ver los comentarios.
  </p>
</noscript>

<style>
  .comments-section {
    margin: 4rem 0;
    padding: 3rem 0;
    border-top: 2px solid rgba(255, 51, 51, 0.2);
    animation: fadeInUp 0.8s ease-out;
  }

  .comments-container {
    background: var(--color-card-bg, #1a1a1a);
    border-radius: 20px;
    padding: 3rem;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 51, 51, 0.1);
  }

  .comments-title {
    font-size: 2rem;
    color: var(--color-text, #ffffff);
    margin-bottom: 0.5rem;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .comments-subtitle {
    color: var(--color-text-secondary, #b0b0b0);
    margin-bottom: 2rem;
    font-size: 1rem;
    opacity: 0.8;
  }

  #disqus_thread {
    min-height: 400px;
  }

  .no-script-message {
    padding: 2rem;
    background: rgba(255, 51, 51, 0.1);
    border-radius: 10px;
    text-align: center;
    color: var(--color-text-secondary);
    font-style: italic;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 768px) {
    .comments-container {
      padding: 2rem 1.5rem;
    }

    .comments-title {
      font-size: 1.5rem;
    }
  }
</style>
